(function(e){function t(t){for(var a,r,o=t[0],c=t[1],l=t[2],d=0,h=[];d<o.length;d++)r=o[d],s[r]&&h.push(s[r][0]),s[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(h.length)h.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(a=!1)}a&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},s={1:0},i=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;i.push([4,0]),n()})({4:function(e,t,n){e.exports=n("Vtdi")},Bgf2:function(e,t,n){"use strict";var a=n("zdpE"),s=n.n(a);s.a},Vtdi:function(e,t,n){"use strict";n.r(t);n("VRzm"),n("D66Q");var a=n("Kw5r"),s=n("XJYT"),i=n.n(s),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",[n("el-header",{attrs:{height:"120px"}},[n("div",{staticStyle:{"text-align":"center"}},[n("h1",{staticClass:"header"},[e._v("\n                "+e._s(e.home?e.home.title:"Welcome")+"\n            ")])])]),n("el-container",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[n("el-aside",[n("el-menu",{attrs:{"default-active":e.active}},[n("el-menu-item",{attrs:{index:"/"}},[n("router-link",{attrs:{to:"/",tag:"div"}},[e._v("Главная страница")])],1),e._l(e.pages,function(t){return n("el-submenu",{key:t.id,attrs:{index:"/page/"+t.id}},[n("template",{slot:"title"},[n("span",[e._v(e._s(t.title))])]),e._l(t.blocks,function(a){return n("el-submenu",{key:a.id,attrs:{index:"/page/"+t.id+"/block/"+a.id}},[n("template",{slot:"title"},[n("span",[e._v(e._s(a.title))])]),e._l(a.tasks,function(s){return n("el-menu-item",{key:s.id,attrs:{index:"/page/"+t.id+"/block/"+a.id+"/task/"+s.id},on:{click:function(n){e.navigateTo(t.id,a.id,s.id)}}},[e._v("\n                            "+e._s(s.title)+"\n                        ")])})],2)})],2)})],2)],1),n("el-main",[n("router-view")],1)],1)],1)},o=[],c=(n("rGqo"),n("yt8O"),n("yT7P")),l=n("L2JU"),u={data:function(){return{active:"",loading:!0}},computed:Object(c["a"])({},Object(l["c"])(["pages","home"])),watch:{home:function(e){e&&(document.title=e.title)}},methods:Object(c["a"])({},Object(l["b"])(["getPages","getHome"]),{navigateTo:function(e,t,n){this.$router.push({path:"/page/".concat(e,"/block/").concat(t,"/task/").concat(n)})}}),created:function(){var e=this;this.active=this.$route.path,Promise.all([this.getHome(),this.getPages()]).then(function(){e.loading=!1}).catch(function(t){e.loading=!1,t&&t.message&&t.response?e.$notify({title:"Error",type:"error",message:"".concat(t.message,": ").concat(t.response.data,". Please reload page for retry."),duration:0}):console.error(t)})}},d=u,h=(n("ZL7j"),n("KHd+")),p=Object(h["a"])(d,r,o,!1,null,null,null),v=p.exports,f=n("jE9Z"),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{attrs:{type:"flex",justify:"center",align:"center"}},[n("el-col",[e.home?n("div",[n("h2",[e._v(e._s(e.home.welcome))]),n("div",{domProps:{innerHTML:e._s(e.home.text)}})]):e._e()])],1)},g=[],k={computed:Object(c["a"])({},Object(l["c"])(["home"]))},_=k,b=Object(h["a"])(_,m,g,!1,null,null,null),w=b.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",{directives:[{name:"show",rawName:"v-show",value:e.pages.length&&!e.task,expression:"pages.length && !task"}],attrs:{type:"flex",justify:"center",align:"center"}},[n("el-col",[n("h2",[e._v("К сожалению, задание не найдено.")]),n("p",[e._v("Для выбора задания воспользуйтесь боковым навигационым меню")])])],1),e.task?n("div",[n("h1",[e._v(e._s(e.page.title))]),n("h2",[e._v(e._s(e.block.title))]),n("h3",[e._v(e._s(e.task.title))]),n("pre",[e._v(e._s(e.task.text))]),e._l(e.task.questions,function(t){return e.task.questions.length?n("div",{key:t.id},[n("pre",[e._v(e._s(t.description))]),n("div",{staticStyle:{"margin-bottom":"20px"}},e._l(t.images,function(a){return t.images.length?n("div",{key:a.uid},[n("el-row",{attrs:{type:"flex"}},[n("img",{staticStyle:{"max-width":"100%","max-height":"300px"},attrs:{src:a.data}})])],1):e._e()})),n("div",{staticStyle:{"margin-bottom":"20px"}},e._l(t.videos,function(a,s){return t.videos.length?n("div",{key:s+a.url},[n("div",{directives:[{name:"player",rawName:"v-player",value:{url:a.url},expression:"{ url: video.url }"}],staticStyle:{"margin-bottom":"40px","margin-top":"40px"}})]):e._e()})),t.test&&t.test.length?n("div",[n("h4",{directives:[{name:"show",rawName:"v-show",value:t.test.length>1,expression:"question.test.length > 1"}]},[e._v("Тест")]),n("ol",e._l(t.test,function(a){return n("li",{key:a.id},[n("div",{staticStyle:{"margin-bottom":"10px"}},[e._v(e._s(a.question))]),e._l(a.answers,function(s){return n("div",{key:s.id},[n("el-radio",{class:{"answer-right":a.checked&&s.isCorrect&&(!t.checkTestByBtn||e.isTestChecked),"answer-wrong":a.checked&&!s.isCorrect&&(!t.checkTestByBtn||e.isTestChecked)},attrs:{label:s.id},model:{value:a.checked,callback:function(t){e.$set(a,"checked",t)},expression:"testItem.checked"}},[e._v("\n                               "+e._s(s.answer)+"\n                           ")])],1)})],2)})),n("el-row",{attrs:{type:"flex",justify:"center"}},[n("p",{directives:[{name:"show",rawName:"v-show",value:t.checkTestByBtn&&e.isTestChecked,expression:"question.checkTestByBtn && isTestChecked"}]},[e._v("\n                        Дано "+e._s(e.countRightCheckedAnswers(t.test))+" правильных ответов из "+e._s(t.test.length)+".\n                    ")])]),n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-button",{directives:[{name:"show",rawName:"v-show",value:t.checkTestByBtn&&!e.isTestChecked,expression:"question.checkTestByBtn && !isTestChecked"}],attrs:{type:"success"},on:{click:function(t){e.checkTest()}}},[e._v("\n                        Проверить тест\n                    ")])],1),n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-button",{directives:[{name:"show",rawName:"v-show",value:t.checkTestByBtn&&e.isTestChecked,expression:"question.checkTestByBtn && isTestChecked"}],attrs:{type:"info",plain:""},on:{click:function(n){e.resetTestCheck(t)}}},[e._v("\n                        Начать заного\n                    ")])],1)],1):e._e()]):e._e()}),n("el-row",[n("pre",{directives:[{name:"show",rawName:"v-show",value:e.task.additionalQuestion,expression:"task.additionalQuestion"}]},[e._v("                "),n("span",{staticClass:"text-bold"},[e._v("Дополнительные вопросы:")]),e._v("\n                "+e._s(e.task.additionalQuestion)+"\n            ")])]),n("el-row",[n("pre",{directives:[{name:"show",rawName:"v-show",value:e.task.comment,expression:"task.comment"}]},[e._v("                "),n("span",{staticClass:"text-bold"},[e._v("Комментарии:")]),e._v("\n                "+e._s(e.task.comment)+"\n            ")])])],2):e._e()],1)},x=[],j=(n("f3/d"),n("dRSK"),n("ls82"),n("MECJ")),T=n("lUbc"),O=n.n(T),C={inserted:function(e,t){var n=document.createElement("div");e.appendChild(n);var a=new O.a(n,{autoplay:!1});a.load(t.value.url),a.setVolume(100)}},I={directives:{player:C},data:function(){return{main:null,isTestChecked:!1,loaded:!1,task:null,page:null,block:null}},computed:Object(c["a"])({},Object(l["c"])(["pages"])),watch:{pages:function(e){!this.loaded&&e&&e.length&&this.getInfoFromStore()}},methods:Object(c["a"])({},Object(l["b"])(["getInfo"]),{getInfoFromStore:function(){var e=Object(j["a"])(regeneratorRuntime.mark(function e(){var t,n,a,s,i,r,o,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params,n=t.pageId,a=t.blockId,s=t.taskId,e.next=3,this.getInfo({pageId:n,blockId:a,taskId:s});case 3:if(i=e.sent,r=i.task,o=i.page,c=i.block,r){e.next=9;break}return e.abrupt("return");case 9:this.page=o,this.block=c,this.task=r;case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),checkTest:function(){this.isTestChecked=!0},resetTestCheck:function(e){e.test.forEach(function(e){e.checked=null}),this.isTestChecked=!1},countRightCheckedAnswers:function(e){return e.reduce(function(e,t){var n=t.answers.find(function(e){return e.id===t.checked});return n&&n.isCorrect?e+1:e},0)}}),beforeRouteUpdate:function(e,t,n){n(),this.main.scrollTo(0,0),"task"===e.name&&this.getInfoFromStore()},mounted:function(){this.main=document.querySelector(".el-main")},created:function(){this.getInfoFromStore()}},B=I,P=(n("Bgf2"),Object(h["a"])(B,y,x,!1,null,null,null)),S=P.exports;a["default"].use(f["a"]);var q=new f["a"]({mode:"history",routes:[{path:"/",name:"root",component:w},{path:"/page/:pageId/block/:blockId/task/:taskId",name:"task",component:S},{path:"*",redirect:"/"}]}),E=n("xmWZ"),R=n("qpph"),H=n("vDqi"),N=n.n(H),$={apiURL:"https://checkurchinese-api.herokuapp.com/"},L=$.apiURL,M=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(E["a"])(this,e),this.http=N.a.create({baseURL:L||t,headers:{common:Object(c["a"])({},n.common),post:Object(c["a"])({"Content-Type":"application/json"},n.post)}})}return Object(R["a"])(e,[{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.http.get(e,{params:t,headers:n}).then(function(e){return e.data})}},{key:"post",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.http.post(e,t,{params:n,headers:a}).then(function(e){return e.data})}},{key:"put",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.http.put(e,t,{params:n,headers:a}).then(function(e){return e.data})}},{key:"patch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.http.patch(e,t,{params:n,headers:a}).then(function(e){return e.data})}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.http.delete(e,{params:t,headers:n}).then(function(e){return e.data})}}]),e}(),U=new M;a["default"].use(l["a"]);var J=new l["a"].Store({state:{pages:[],home:null},mutations:{setPages:function(e,t){e.pages=t},setHome:function(e,t){e.home=t}},actions:{setPages:function(e,t){var n=e.commit;n("setPages",t)},setHome:function(e,t){var n=e.commit;n("setHome",t)},getPages:function(e){var t=e.dispatch;return U.get("/page").then(function(e){t("setPages",e)})},getHome:function(e){var t=e.dispatch;return U.get("/home").then(function(e){t("setHome",e)})},getInfo:function(e,t){var n=e.state,a=t.pageId,s=t.blockId,i=t.taskId,r=n.pages.find(function(e){return e.id===a});if(!r)return{};var o=r.blocks.find(function(e){return e.id===s});if(!o)return{};var c=o.tasks.find(function(e){return e.id===i});return c?{page:r,block:o,task:c}:{}}}});a["default"].use(i.a),a["default"].config.productionTip=!1,new a["default"]({router:q,store:J,render:function(e){return e(v)}}).$mount("#app")},ZL7j:function(e,t,n){"use strict";var a=n("bP1M"),s=n.n(a);s.a},bP1M:function(e,t,n){},zdpE:function(e,t,n){}});
//# sourceMappingURL=app.cb44b4a6.js.map